# Linux学习笔记2024/10/13

1. ### xxd命令与tar,gzip,bzip2命令的使用

   例如文件1.txt是经过多次压缩的文件并进行16进制转储，如何查看该文件

   ```shell
   mkdir /tmp/123 #在tmp文件夹下创建目录123
   cd /tmp/123 #进入创建好的目录
   cp ~/1.txt ./ #复制用户主目录下文件1.txt 到 该目录
   xxd -r 1.txt > 2.txt  #将1.txt16进制文件转换为二进制文件并存放在2.txt
   file 2.txt #查看文件类型
   mv 2.txt 2.gz #移动文件并重命名
   gzip -d 2.gz #解压文件	
   ls #查看当前目录下文件
   file 2 
   mv 2 2.bz2
   bzip2 -d 2.bz2 #解压文件
   ls
   file 2
   mv 2 2.tar
   tar -xf 2.tar #解压当前文件
   ls
   file 2 #当文件类型为ASCII text 即可查看文件
   cat 2 
   ```

   解释：

   1. 文件1.txt在主目录下，由于时临时用户无法获得较高执行权限，因此，将文件复制到tmp文件夹下，tmp文件夹用于储存临时文件，并且权限通常为777，最高权限
   2. 复制文件时出现的~，表示用户主目录的快捷方式，因此~/表示用户主目录下文件或目录路径的开头
   3. 命令解释xxd 命令通常将文件或数据转换为16进制显示，也可将16进制转换为二进制文件，-r 参数将16进制还原为二进制；gzip命令用于解压缩文件，-d参数解压缩文件，-r递归压缩目录下的所有文件；bizp2 命令用于解压缩文件，-d 参数解压缩文件，-z参数强制压缩，即使文件已被压缩;tar命令用于归档文件，广泛应用于文件系统中打包压缩文件。-x解压归档文件，-f 指定归档文件名称。

2. SSH/OpenSSH/密钥

   例如知道SSH的私钥文件为sshkey.private，利用私钥连接用户名为bandit14并拥有公钥文件的服务器localhost ，服务器的SSH服务开放端口为2220

   ```shell
   ssh bandit14@localhost -p 2220 -i sshkey.private
   ```

   解释：ssh命令用于通过ssh协议连接远程主机，实现远程登录和执行命令，在通话中的信息会被加密，保障数据传输的安全性，语法ssh 用户名@主机 -p 端口 -i 指定身份验证文件（私钥文件）。

   使用非对称密钥加密算法加密会话，私钥保存在自己登录的计算机中，公钥存储在你要登录的所有服务器的.ssh/authorized_keys文件中，绝大多数SSH程序以密码保护的格式存储私钥。

   要建立SSH连接，首先要生成一组用于身份验证的RSA密钥对

   ```shell
   mkdir ~/.ssh
   chmod 700 ~/.ssh
   ssh-keygen -t rsa
   ```

   系统会提示你输入密钥的保存位置以及密钥的密码，此密码将在你的私钥储存在硬盘上时保护密钥。密码会生成在你输入的保存位置。之后将公钥复制到服务器

   ```
   cp 授权公钥 备份
   cat id_rsa.pub >> authorized_keys
   ```

   然后在客户机就可以用举例的命令登录了。详见https://help.ubuntu.com/community/SSH/OpenSSH/Keys

3. nc命令

   例如通过nc命令聊天

   server1

   ```shell
   nc -l 1234
   hello！server1
   ```

   server2

   ```shell
   nc 192.168.1.1 1234
   hello server1
   ```

   解释：使用-l参数进行监听，管控传入自己1234端口的资料，nc 命令详见https://www.cnblogs.com/wenbiao/p/3375811.html